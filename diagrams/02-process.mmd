---
config:
  layout: elk
  theme: base
  themeVariables:
    background: "#FFFFFF"
---
flowchart LR
    accTitle: Process Stage
    accDescr: Classification, form generation, and confidence bouncer

    %% Cagle Color System
    classDef data fill:#FFF8E1,stroke:#F57F17,stroke-width:2px,color:#E65100
    classDef service fill:#C8E6C9,stroke:#2E7D32,stroke-width:2px,color:#1B5E20
    classDef subsystem fill:#ECEFF1,stroke:#455A64,stroke-width:3px,color:#263238

    Capture[[Capture]]:::subsystem
    Receipt[/receipt/]:::data
    Classify[classify]:::service & Form[form]:::service
    Bounce{bounce}:::service
    Storage[[Storage]]:::subsystem

    Capture --> Receipt
    Receipt -->|log| Storage
    Receipt --> Classify
    Classify --> Form
    Form --> Bounce
    Bounce -->|no| Storage
    Bounce -->|yes| Capture
